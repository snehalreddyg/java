package com.example.wallpaper import android.app.WallpaperManager import android.graphics.Bitmap import android.graphics.BitmapFactory import androidx.appcompat.app.AppCompatActivity import android.os.Bundle import android.os.Looper import android.os.Handler import android.widget.Button import android.widget.Toast class MainActivity : AppCompatActivity() { private var myWallpaperList = arrayOf( R.drawable.w1, R.drawable.w2, R.drawable.w3, R.drawable.w4, R.drawable.w5
) private lateinit var changeWallpaper: Button override fun onCreate(savedInstanceState: Bundle?) { super.onCreate(savedInstanceState) setContentView(R.layout.activity_main) changeWallpaper = findViewById(R.id.change_wallpaper) changeWallpaper.setOnClickListener { setWallpaper() } } private fun setWallpaper() { Toast.makeText(this, "Setting Wallpaper please wait.", Toast.LENGTH_SHORT) .show() Handler (Looper.getMainLooper()).postDelayed({ for (i in myWallpaperList) { val bitmap: Bitmap = BitmapFactory.decodeResource(resources, i) val wallpaperManager = WallpaperManager.getInstance(applicationContext) wallpaperManager.setBitmap(bitmap) } }, 2000) } }
